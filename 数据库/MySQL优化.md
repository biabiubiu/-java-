# MySQL优化

1. 硬件优化 (不计成本的话)
    + 添加内存，换固态
    + 合理分布磁盘I/O，分部在多个设备上，减少资源竞争
    + 配置线程多的处理器，
2. 优化mysql服务器配置
    + 合理配置my.ini或者my.cnf中参数，如：
        + [](img/001.png)
        + [](img/002.png)
3. 优化数据库结构
    + 遵循三个范式
    + 候增加中间表，特别是经常会联合查询的表
    + 适当增加冗余字段，因为表的规范化程度越高，表之间的关系就越复杂，适当的时候可以增加冗余字段来减少关联查询
4. 优化子查询
    + 子查询会在内层语句查询完后，创建临时表来储存结果，然后外层语句从临时表中再查询记录。这样的查询就会随着数据量增加，效率的的影响会变大。所以可用连接查询来代替子查询，因连接查询不需要创建临时表。
5. 优化读取速度----使用索引
    + 详见[索引](mysql索引.md)
6. 优化写入速度(用得少)
    + 禁用索引，因为插入数据的时候会从新建立索引，这样会降低插入速度，特别是数据量多的时候。
    + 禁用唯一性检查
    + 使用批量插入
    + 使用load data infile 批量导入
    + innoDB可禁止自动提交
    + 垂直分表
7. 分库分表，集群
    + 垂直分表：对于表的记录并不多，但是字段却很长的，分多个表，减轻io压力
    + 水平分表：表的记录多的，分多个表减轻表的压力
    + 分库(结合集群使用)

### 说明：文中有什么不全的地方，大佬们可指出来。作者有时间会完善
